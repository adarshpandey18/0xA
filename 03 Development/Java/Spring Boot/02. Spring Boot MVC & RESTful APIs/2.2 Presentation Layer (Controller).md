## Annotated Controller

- Spring MVC provides an annotation-based programming model. `@Controller` and `@RestController` are used to handle web requests:

- `@RestController` is shorthand for `@Controller + @ResponseBody`. It means **all methods return data (like JSON/XML) directly in the HTTP response body** — no views or HTML rendering.
    

---

## Request Mapping

Use `@RequestMapping` or its specific variants to map incoming HTTP requests to controller methods:

### Common Mappings

- `@GetMapping`: For GET requests
    
- `@PostMapping`: For POST requests
    
- `@PutMapping`: For PUT requests
    
- `@DeleteMapping`: For DELETE requests
    
- `@PatchMapping`: For PATCH requests
    

These are specialized shortcuts for `@RequestMapping(method = RequestMethod.X)`.

### Example:

```java
package com.example.springboot_web.springboot_web.controller;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class TestController {

    @GetMapping(path = "/getMessage")
    public String getMessage() {
        return "hello world";
    }
}
```

---

## Dynamic URLs

You can pass dynamic values using two main methods:

### 1. `@PathVariable` → `/employees/123`

Use when the value is essential to identify a resource (e.g. ID in the path).

```java
@GetMapping(path = "/employees/{employeeId}")
public EmployeeDTO getEmployeeById(@PathVariable Long employeeId) {
    return new EmployeeDTO(employeeId, "Adarsh", "adarsh@gmail.com", 21);
}
```

- You can use `@PathVariable(name = "customName")` if your method parameter name differs from the URL placeholder.
    

### 2. `@RequestParam` → `/employees?id=123`

Use when the value is optional or used for filtering/sorting.

```java
@GetMapping(path = "/employees")
public String returnID(@RequestParam Long id, @RequestParam(required = false) String name) {
    return "Id: " + id;
}
```

- By default, `@RequestParam` is required.
    
- Use `required = false` for optional parameters.
    

---

## Set Base Path Using `@RequestMapping`

You can set a base URL for all endpoints in a controller:

```java
@RestController
@RequestMapping(path = "/employees")
public class TestController {

    @GetMapping
    public String returnID(@RequestParam Long id, @RequestParam(required = false) String name) {
        return "Id: " + id;
    }
}
```

---

## `@RequestBody` → Read Data from Request Body

Use `@RequestBody` when the client sends JSON/XML in the body (e.g. POST/PUT requests). Spring maps it to a Java object.

```java
@PostMapping
public EmployeeDTO createEmployee(@RequestBody EmployeeDTO inputEmployee) {
    inputEmployee.setId(1L); // Simulate DB generated ID
    return inputEmployee;
}
```

### Example DTO:

```java
package com.example.springboot_web.springboot_web.DTO;

public class EmployeeDTO {
    private Long id;
    private String name;
    private String email;
    private int age;

    // Constructors, Getters, Setters
}
```

> `@RequestBody` is required when working with APIs that send JSON in the request (like in Postman).

![RequestBody Demo Postman](/images/request-body.jpg)